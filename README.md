# Voice Scoreboard

音声操作に対応したスポーツ競技用スコアボードアプリ

## 概要

バレーボールをはじめとするスポーツ競技の得点管理を、音声入力と音声読み上げで直感的に操作できるモバイルアプリケーションです。

**主な利用シーン：** 普段の練習時に得点板の代わりとして使用

※ 公式戦での使用は想定していません

## プロジェクト情報

| 項目 | 内容 |
|------|------|
| 開発形態 | 個人開発（学習目的を兼ねる） |
| リポジトリ | Public（オープンソース） |
| ライセンス | MIT License |
| 対象ユーザー | 部活動・サークルの練習参加者、草試合の運営者 |
| 対応競技（v1.0） | 6人制バレーボール（25点マッチ・デュース対応） |

v1.0 の詳細な要件・設計・タスクは `.kiro/specs/voice-scoreboard/` を参照。

---

## 将来リリース（v2.0以降）

**優先度：高**
- [ ] スコア照会コマンド
  - 「スコア」→「現在」で現在のスコアを音声読み上げ
  - 画面が見えない位置からスコアを確認するためのコマンド
  - ※ cc-sddによる機能改修ワークフローの実践題材を兼ねる
- [ ] 管理者声紋認証 + オーバーコール機能
  - 管理者の声を事前登録
  - 「スコア」→「オーバーコール」→「右10 左12」で任意得点に強制設定
  - 管理者以外の声ではオーバーコール無効（いたずら防止）

**優先度：通常**
- [ ] ウェイクワードのカスタマイズ
- [ ] セットカウント管理
- [ ] タイムアウト回数管理
- [ ] サーブ権表示
- [ ] 試合履歴の保存
- [ ] チーム名のカスタマイズ
- [ ] 複数競技対応（9人制バレー、バスケ、卓球、バドミントン等）

---

## 技術スタック

| カテゴリ | 技術 |
|---------|------|
| フレームワーク | React Native + Expo SDK 52 |
| 音声認識 | `expo-speech-recognition` |
| 音声読み上げ | `expo-speech` |
| 効果音再生 | `expo-av` |
| 状態管理 | `zustand` + `zundo` |
| 永続化 | `@react-native-async-storage/async-storage` |
| スリープ防止 | `expo-keep-awake` |
| スタイリング | `nativewind` v4 (Tailwind CSS) |

※ 音声認識にネイティブモジュールが必要なため Expo Go は使用不可。Development Build を採用。

### 開発環境

| 項目 | 内容 |
|------|------|
| OS | Windows 11 |
| コンテナ | Docker Desktop + DevContainer |
| エディタ | VS Code（Dev Containers拡張機能） |

**開発フロー:**

```
Windows 11
    │
    ▼
┌─────────────────────────────────┐
│       DevContainer              │
│  ┌───────────────────────────┐  │
│  │  Node.js + Expo CLI       │  │
│  │  開発サーバー起動          │  │
│  └───────────────────────────┘  │
└─────────────────────────────────┘
    │
    ▼ (Development Build)
┌─────────────────────────────────┐
│    実機（iOS / Android）        │
└─────────────────────────────────┘
```

※ iOSビルドはEAS Build（クラウド）を使用（Macが不要）

### アプリ配布方法

| 方法 | 用途 | ストア経由 | ネイティブモジュール |
|------|------|-----------|-------------------|
| Development Build | 開発・テスト | 不要 | ◎ 使える |
| Preview Build (APK) | 実地検証 | 不要 | ◎ 使える |
| Production Build | ストア公開 | 必要 | ◎ 使える |

**実地検証フロー（ストア公開前）:**

```
開発（DevContainer）
    ↓
EAS Build（Preview Build）
    ↓ APKファイル生成・ダウンロード
Android実機に直接インストール（サイドローディング）
    ↓
実地検証（バレーボール練習時）
    ↓
問題なければ Production Build → ストア公開
```

---

## 開発ワークフロー

### SDD + TDD

**仕様駆動開発（SDD）** と **テスト駆動開発（TDD）** で進行する。

| 項目 | ツール | 用途 |
|------|--------|------|
| UI設計 | Figma Make | AIによるUI設計・プロトタイプ作成 |
| SDD | cc-sdd | 仕様→設計→タスク→TDD実装のワークフロー管理 |
| コードレビュー | CodeRabbit | AIによるPR自動レビュー（無料） |

### CI/CD

**GitHub Actions + EAS Build** を採用する。

| サービス | 用途 | 料金（Public） |
|---------|------|---------------|
| GitHub Actions | CI（テスト・リント・型チェック） | 無料 |
| EAS Build | アプリビルド | 無料枠（30ビルド/月） |
| EAS Submit | ストア申請 | 無料 |

**CI パイプライン（GitHub Actions）:**

```yaml
# プルリクエスト / Push時に実行
jobs:
  - lint        # ESLint + Prettier
  - typecheck   # TypeScript型検査
  - test        # Jest単体テスト
  - build-check # Expoビルド検証
```

**CD パイプライン（EAS Build）:**

| ビルド種別 | タイミング | 用途 |
|-----------|-----------|------|
| Development | 必要時 | 開発用（実機テスト） |
| Preview | mainマージ時 | テスト配布 |
| Production | リリース時 | ストア申請 |

---

## セットアップ

```bash
# 依存関係のインストール
bun install

# 開発サーバー起動
bun start

# テスト実行
bun test

# リント
bun run lint

# 型チェック
bun run typecheck
```

---

## ライセンス

MIT License

---

## 作者

<!-- 作者情報をここに記載 -->
