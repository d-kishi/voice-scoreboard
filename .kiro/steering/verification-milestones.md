# Manual Verification Milestones

ユーザによる手動検証のタイミングと確認項目を定義する。

## 目的

cc-sdd の tasks.md は AI Agent 向けの作業管理であり、人間による動作確認は含まれない。
`/kiro:spec-impl` でタスク群が完了した際、AI Agent はこのドキュメントに基づきユーザへ検証を促す。

## 判定ルール

- 個々のタスク完了ごとに検証するのではなく、**新しいユーザ体験が発生するタスク群の完了時点**で実施する
- ロジックのみ（状態管理、純粋関数等）のタスクは検証マイルストーンを設けない
- 検証環境は **Android エミュレータ**（Development Build）を基本とする

---

## Milestones

### M1: ビルド・起動確認（タスク1完了後）

**トリガー**: タスク 1.1 + 1.2 の両方が完了

**新しい体験**: アプリが初めてデバイス上で起動する

**確認項目**:
- [ ] Development Build がエミュレータにインストール・起動できる
- [ ] 横画面（ランドスケープ）で固定されている
- [ ] ダークネイビーの背景が表示される
- [ ] NativeWind のスタイリングが正しく適用されている

**検証方法**: `eas build` で Preview Build を作成し、エミュレータで起動

**フィードバック対応**: ビルド失敗 → タスク1 を修正。デザイントークンの調整 → タスク 1.2 を修正

---

### M2: タッチ操作スコアボード確認（タスク3完了後）

**トリガー**: タスク 3.1 + 3.2 + 3.3 のすべてが完了（タスク2は前提として完了済み）

**新しい体験**: タッチ操作でスコア管理ができる完全な画面

**確認項目**:
- [ ] デザインカンプ（`docs/01_design/images/`）と画面の見た目が一致する
- [ ] スコア数字のサイズ・グロー効果が視認しやすい
- [ ] +1 / -1 ボタンのタップでスコアが変動する
- [ ] ロールバック・リセットが正しく動作する
- [ ] リセット確認ダイアログの表示・キャンセル・実行
- [ ] 試合終了オーバーレイ（ゴールド枠、+1/-1非表示、リセットのみ表示）
- [ ] 試合終了→リセット→新しい試合の一連フロー
- [ ] 操作バーのレイアウト・ボタン配置の使い勝手

**検証方法**: エミュレータで一連のタッチ操作を実施。デザインカンプ画像と並べて比較

**フィードバック対応**:
- デザインの調整 → タスク 3.x を修正
- ロジックの不具合 → タスク 2.x を修正
- デザインカンプ自体の変更が必要 → design.md の Visual Design を更新し、該当タスクを再実装

---

### M3: 音声操作フル体験確認（タスク7完了後）

**トリガー**: タスク 7.1 + 7.2 + 7.3 のすべてが完了（タスク4, 5, 6は前提として完了済み）

**新しい体験**: 音声コマンドによるスコア操作、音声フィードバック、全機能統合

**確認項目**:
- [ ] 「スコア」発声で LISTENING 状態に遷移する（シアンリング + Ready 表示）
- [ ] 「Ready」音声応答が聞こえる
- [ ] 3秒カウントダウンが表示され、タイムアウトで IDLE に戻る
- [ ] 「右」「左」で得点加算、「Roger」応答が聞こえる
- [ ] 「ロールバック」「リセット」で操作実行後、スコア読み上げが聞こえる
- [ ] 試合終了時のホイッスル音が再生される
- [ ] 音声認識 / 読み上げトグルの ON/OFF が正しく反映される
- [ ] 画面スリープが防止されている
- [ ] 音声認識 OFF 時にタッチ操作のみで問題なく使える

**検証方法**: エミュレータまたは実機で音声操作を実施（実機推奨: マイク入力の精度確認のため）

**フィードバック対応**:
- 音声認識の精度問題 → タスク 5.1 の設定調整
- 状態遷移の問題 → タスク 6.1 を修正
- UI表示の問題 → タスク 7.1 を修正
- 音声と画面の同期問題 → タスク 7.2, 7.3 を修正

---

### M4: 最終検証（タスク8完了後）

**トリガー**: タスク 8.1 + 8.2 の両方が完了

**新しい体験**: 本番品質のアプリケーション

**確認項目**:
- [ ] アプリ起動が体感で速い（3秒以内目標）
- [ ] 機内モードで全機能が動作する
- [ ] 長時間使用（10分以上）で安定動作する
- [ ] 実際のバレーボール練習シナリオを想定した一連の操作

**検証方法**: Preview Build を Android 実機にインストールし、実地に近い環境で検証

**フィードバック対応**: パフォーマンス問題 → タスク 8.x で最適化。機能の不具合 → 該当するタスクに戻って修正

---

## AI Agent への指示

`/kiro:spec-impl` でタスクを完了した際、そのタスクがマイルストーンのトリガー条件を満たした場合、以下の形式でユーザに検証を促すこと:

```
---
## 検証マイルストーン: {マイルストーン名}

{確認項目のチェックリスト}

**検証方法**: {検証方法}

エミュレータ/実機で動作確認をお願いします。
フィードバックがあればお知らせください。
---
```

---
_updated_at: 2026-02-13_
